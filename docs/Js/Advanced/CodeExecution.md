---
title: 代码执行
publish: false
---

## 1.代码的分类 

*初始化代码*	*回调代码* 

## 2.JS引擎执行代码的基本流程

* 先执行**初始化代码**

  * 包括一些特别的代码：1.设置定时器；2.绑定事件监听；3.发送ajax请求

* 后执行某个时刻才会执行的**回调代码**（回调函数包含的代码） 

  * 回调函数(异步执行)

  ```js
  setTimeout(function(){	//初始化代码
                  console.log('定时器执行了', Date.now()-start);//回调代码
              }, 200)
  ```


## 3.事件循环模型

### 3.1.模型的重要组成部分

* 事件(定时器/DOM事件)管理模块 WebAPIs
* 回调队列callback queue

![image-20210306114514129](https://gitee.com/bad_morty/cblog-images/raw/master/img/image-20210306114514129.png)

### 3.2.模型的运转流程

* 执行初始化代码，将事件回调函数交给对应管理模块
* 事件发生时，管理模块会将回调函数及其数据添加到回调队列中
* 只有当初始化代码执行完后（可能要一定时间）,才会遍历读取回调队列中的回调函数执行